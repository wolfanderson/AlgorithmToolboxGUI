# 依赖安装问题解决方案

## 常见错误及解决方法

### 1. 网络连接问题（超时或连接失败）

**解决方法：**
```bash
# 使用国内镜像源
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

或者使用其他镜像源：
- 阿里云：`https://mirrors.aliyun.com/pypi/simple/`
- 中科大：`https://pypi.mirrors.ustc.edu.cn/simple/`
- 豆瓣：`https://pypi.douban.com/simple/`

### 2. OpenCV安装失败

**解决方法：**
```bash
# 方法1：使用conda安装（如果使用Anaconda）
conda install opencv

# 方法2：使用预编译的wheel文件
pip install opencv-python-headless

# 方法3：如果仍然失败，尝试安装旧版本
pip install opencv-python==4.5.5.64
```

### 3. NumPy版本冲突

**解决方法：**
```bash
# 先升级pip
python -m pip install --upgrade pip

# 然后安装numpy
pip install numpy
```

### 4. Python版本不兼容

**要求：**
- Python 3.7 或更高版本（推荐 Python 3.8+）

**检查Python版本：**
```bash
python --version
```

### 5. 缺少编译工具（Windows）

**解决方法：**
- 安装 Microsoft Visual C++ 14.0 或更高版本
- 或使用预编译的wheel包（推荐）

### 6. 权限问题

**解决方法：**
```bash
# Windows: 使用管理员权限运行命令提示符
# 或添加 --user 参数
pip install -r requirements.txt --user
```

## 推荐安装步骤

### 方法1：使用国内镜像（推荐）
```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 方法2：逐个安装
```bash
pip install Flask -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install flask-cors -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install numpy -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install Pillow -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install opencv-python -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 方法3：使用虚拟环境（推荐）
```bash
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

## 如果仍然遇到问题

请提供以下信息以便进一步诊断：
1. Python版本：`python --version`
2. pip版本：`pip --version`
3. 操作系统版本
4. 完整的错误信息

